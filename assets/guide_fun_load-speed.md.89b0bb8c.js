import{_ as s,o as a,c as n,U as t}from"./chunks/framework.17475148.js";const p="/eagle-tracker/images/timestamp-diagram.svg",A=JSON.parse('{"title":"加载速度","description":"","frontmatter":{},"headers":[],"relativePath":"guide/fun/load-speed.md","filePath":"guide/fun/load-speed.md","lastUpdated":1691998951000}'),l={name:"guide/fun/load-speed.md"},o=t('<h1 id="加载速度" tabindex="-1">加载速度 <a class="header-anchor" href="#加载速度" aria-label="Permalink to &quot;加载速度&quot;">​</a></h1><p>根据W3C规范 <a href="https://w3c.github.io/navigation-timing/" target="_blank" rel="noreferrer">Navigation Timing Level 2</a> 可以测量出一些关于首次访问速度相关的数据。 <img src="'+p+`" alt="timestamp-diagram"></p><h2 id="手动获取" tabindex="-1">手动获取 <a class="header-anchor" href="#手动获取" aria-label="Permalink to &quot;手动获取&quot;">​</a></h2><p>这些数据都会在<a href="/eagle-tracker/guide/use/basic#页面卸载时上报">页面隐藏时上报</a>且只上报一次，同样可以手动获取</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> eagle </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">EagleTracker</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">isTest</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">appId</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">XXXXXXXX</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">dsn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://test.com/log</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> perf </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> eagle</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">performance</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(perf</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getNavigationTiming</span><span style="color:#A6ACCD;">())</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>数据示例：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">TTI</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">78.90000003576279</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">Ready</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">160.10000002384186</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">Load</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">349.30000001192093</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">DNS</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">TCP</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">SSL</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">TTFB</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1.5999999642372131</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">Trans</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1.199999988079071</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">DOM</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">69.40000003576279</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">Res</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">189.19999998807907</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">FirstByte</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8.300000011920929</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>具体类型可查看 <a href="/eagle-tracker/guide/use/type#mperformancenavigationtiming-以技术为中心的性能指标-导航加载数据">MPerformanceNavigationTiming</a></p><h2 id="数据说明" tabindex="-1">数据说明 <a class="header-anchor" href="#数据说明" aria-label="Permalink to &quot;数据说明&quot;">​</a></h2><p>针对数据示例中的每个字段作出解释。</p><table><thead><tr><th>上报字段</th><th>描述</th><th>计算公式</th><th>备注</th></tr></thead><tbody><tr><td>TTI</td><td>首次可交互时间</td><td>domInteractive - fetchStart</td><td>浏览器完成所有HTML解析并且完成DOM构建，此时浏览器开始加载资源。</td></tr><tr><td>Ready</td><td>HTML加载完成时间， 即DOM Ready时间。</td><td>domContentLoadEventEnd - fetchStart</td><td>如果页面有同步执行的JS，则同步JS执行时间=Ready-TTI。</td></tr><tr><td>Load</td><td>页面完全加载时间</td><td>loadEventStart - fetchStart</td><td>Load=首次渲染时间+DOM解析耗时+同步JS执行+资源加载耗时。</td></tr><tr><td>DNS</td><td>DNS查询耗时</td><td>domainLookupEnd - domainLookupStart</td><td>无</td></tr><tr><td>TCP</td><td>TCP连接耗时</td><td>connectEnd - connectStart</td><td>无</td></tr><tr><td>SSL</td><td>SSL安全连接耗时</td><td>connectEnd - secureConnectionStart</td><td>只在HTTPS下有效。</td></tr><tr><td>TTFB</td><td>请求响应耗时</td><td>responseStart - requestStart</td><td>无</td></tr><tr><td>Trans</td><td>内容传输耗时</td><td>responseEnd - responseStart</td><td>无</td></tr><tr><td>DOM</td><td>DOM解析耗时</td><td>domInteractive - responseEnd</td><td>无</td></tr><tr><td>Res</td><td>资源加载耗时</td><td>loadEventStart - domContentLoadedEventEnd</td><td>表示页面中的同步加载资源。</td></tr><tr><td>FirstByte</td><td>首包时间</td><td>responseStart - domainLookupStart</td><td>第一包接收的时间。</td></tr></tbody></table>`,11),e=[o];function r(c,d,D,F,y,i){return a(),n("div",null,e)}const u=s(l,[["render",r]]);export{A as __pageData,u as default};
